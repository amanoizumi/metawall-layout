import{i as V,j as v,z as k,r as f,o as n,c as o,a as u,l as i,d as r,w as h,p as m,A as _}from"./index.51d85300.js";import{b as U,c as F}from"./user.de683e82.js";import{a as I}from"./js.cookie.b6205acc.js";const C="/metawall-layout/assets/login-banner.ca825f49.svg",P={class:"h-screen flex justify-center items-center"},M={class:"max-w-4xl flex gap-x-12"},q=u("img",{src:C,alt:"login page banner"},null,-1),E={class:"text-center"},$=u("h1",{class:"font-paytone text-primary text-6xl"},"MetaWall",-1),B={key:0,class:"text-2xl font-bold mb-9"},N={key:1,class:"text-2xl font-bold mb-9"},S={key:0,class:"mb-4 text-left"},j={class:"mb-4 text-left"},z={key:1,class:"mb-8 text-left"},D={key:2,class:"btn mb-4 leading-none",type:"submit"},A={key:3,class:"btn mb-4 leading-none",type:"submit"},H={__name:"LoginView",setup(L){const x=V(),e=v("signIn"),s=v({}),g=v(null),y=async()=>{if(e.value==="signIn")try{const a=await U({email:s.value.email,password:s.value.password});I.set("token",a.data.user.token),alert(`${a.data.user.name}\uFF0C\u6B61\u8FCE\u4F60\uFF01`),x.push("/")}catch(a){console.log(a)}if(e.value==="signUp")try{const a=await F({name:s.value.name,email:s.value.email,password:s.value.password,confirmPassword:s.value.confirmPassword});alert(`${a.data.user.name}\uFF0C\u606D\u559C\u4F60\u8A3B\u518A\u6210\u529F\uFF01\u53EF\u4EE5\u5617\u8A66\u767B\u5165\u56C9\uFF01`),e.value="signIn"}catch(a){console.log(a)}},b=a=>{a==="signUp"&&(e.value="signUp"),a==="signIn"&&(e.value="signIn")};return k(e,()=>g.value.resetForm()),(a,l)=>{const c=f("VField"),d=f("ErrorMessage"),w=f("VForm");return n(),o("main",P,[u("section",M,[q,u("div",E,[$,e.value==="signIn"?(n(),o("p",B," \u5230\u5143\u5B87\u5B99\u5C55\u958B\u5168\u65B0\u793E\u4EA4\u5708 ")):i("",!0),e.value==="signUp"?(n(),o("p",N,"\u8A3B\u518A")):i("",!0),r(w,{class:"flex flex-col",ref_key:"formDom",ref:g,onSubmit:y},{default:h(({errors:p})=>[e.value==="signUp"?(n(),o("div",S,[r(c,{name:"\u66B1\u7A31",class:"input mb-1",type:"text",placeholder:"\u66B1\u7A31",modelValue:s.value.name,"onUpdate:modelValue":l[0]||(l[0]=t=>s.value.name=t),rules:"required|min:2"},null,8,["modelValue"]),r(d,{class:m({"text-[#F57375] block":p.\u66B1\u7A31}),name:"\u66B1\u7A31"},null,8,["class"])])):i("",!0),u("div",j,[r(c,{name:"\u5E33\u865F",class:"input mb-1",type:"email",placeholder:"Email",modelValue:s.value.email,"onUpdate:modelValue":l[1]||(l[1]=t=>s.value.email=t),rules:"required|email"},null,8,["modelValue"]),r(d,{class:m({"text-[#F57375] block":p.\u5E33\u865F}),name:"\u5E33\u865F"},null,8,["class"])]),u("div",{class:m(["mb-4 text-left",{"mb-8":e.value==="signIn"}])},[r(c,{name:"\u5BC6\u78BC",class:"input mb-1",type:"password",placeholder:"\u5BC6\u78BC",modelValue:s.value.password,"onUpdate:modelValue":l[2]||(l[2]=t=>s.value.password=t),rules:"required|min:8"},null,8,["modelValue"]),r(d,{class:m({"text-[#F57375] block":p.\u5BC6\u78BC}),name:"\u5BC6\u78BC"},null,8,["class"])],2),e.value==="signUp"?(n(),o("div",z,[r(c,{name:"\u518D\u5EA6\u78BA\u8A8D\u5BC6\u78BC",class:"input mb-1",type:"password",modelValue:s.value.confirmPassword,"onUpdate:modelValue":l[3]||(l[3]=t=>s.value.confirmPassword=t),placeholder:"\u518D\u5EA6\u78BA\u8A8D\u5BC6\u78BC",rules:"required|min:8"},null,8,["modelValue"]),r(d,{class:m({"text-[#F57375] block":p.\u518D\u5EA6\u78BA\u8A8D\u5BC6\u78BC}),name:"\u518D\u5EA6\u78BA\u8A8D\u5BC6\u78BC"},null,8,["class"])])):i("",!0),e.value==="signIn"?(n(),o("button",D," \u767B\u5165 ")):i("",!0),e.value==="signUp"?(n(),o("button",A," \u8A3B\u518A ")):i("",!0),e.value==="signIn"?(n(),o("a",{key:4,onClick:l[4]||(l[4]=_(t=>b("signUp"),["prevent"])),href:"#"},"\u8A3B\u518A\u5E33\u865F")):i("",!0),e.value==="signUp"?(n(),o("a",{key:5,onClick:l[5]||(l[5]=_(t=>b("signIn"),["prevent"])),href:"#"},"\u767B\u5165")):i("",!0)]),_:1},512)])])])}}};export{H as default};
